<!doctype html>
<html>
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
		<title>Sabri Sangjaya</title>
		<link rel="stylesheet" href="css/bootstrap.min.css">
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js" type="text/javascript"></script>
		<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
		<script src="js/html2canvas.min.js"></script>
		<script>
		var isMobile = {
		Android: function() {
		return navigator.userAgent.match(/Android/i);
		},
		BlackBerry: function() {
		return navigator.userAgent.match(/BlackBerry/i);
		},
		iOS: function() {
		return navigator.userAgent.match(/iPhone|iPad|iPod/i);
		},
		Opera: function() {
		return navigator.userAgent.match(/Opera Mini/i);
		},
		Windows: function() {
		return navigator.userAgent.match(/IEMobile/i);
		},
		any: function() {
		return (isMobile.Android() || isMobile.BlackBerry() || isMobile.iOS() || isMobile.Opera() || isMobile.Windows());
		}
		};
		</script>
		<script>
			// Load a cross-origin image (using CORS).
// This continually updates an `img` element's `src` until an image's
// data URI has changed.

function loadExternalImage(uri, throbberUri) {
    var canvas = document.createElement('canvas');
    var ctx = canvas.getContext('2d');

    var img = document.createElement('img');

    var throbberDataURI;
    var throbber = document.createElement('img');
    throbber.crossOrigin = '';
    throbber.src = throbberUri;
    throbber.onload = function() {
        canvas.width = throbber.width;
        canvas.height = throbber.height;
        ctx.drawImage(throbber, 0, 0);
        throbberDataURI = canvas.toDataURL().substr(-64);
        _load(uri);
    };

    this._load = function(uri) {
        img.crossOrigin = '';

        var loaded;

        img.onload = function() {
            canvas.width = img.width;
            canvas.height = img.height;
            ctx.drawImage(img, 0, 0);

            // If we're still showing the loading throbber,
            // then real image ain't yet loaded.
            loaded = canvas.toDataURL().substr(-64) !== throbberDataURI;
        };

        var refreshInterval = setInterval(function() {
            if (loaded === false) {
                console.log(refreshInterval, 'loading...');
                return src();
            } else if (loaded === true) {
                console.log(refreshInterval, 'loaded!');
                clearInterval(refreshInterval);
            }
        }, 2800);

        function src() {
            img.src = uri;
        }

        src();
    };

    return img;
}



		function getMatches(string, regex, index) {
		index || (index = 1); // default to the first capturing group
		var matches = [];
		var match;
		while (match = regex.exec(string)) {
		matches.push(match[index]);
		}
		return matches;
		}
		$(document).ready(function(e) {
		var myUrl = 'https://www.youtube.com/playlist?list=PLxXTdjyXA1UesEZGwjh02OPWFBkrvoiB3';
		var x = new XMLHttpRequest();
		x.open('GET', 'https://cors-anywhere.herokuapp.com/'+myUrl);
		x.setRequestHeader('X-Requested-With', 'XMLHttpRequest');
		x.setRequestHeader("Content-Type", "text/xml");
		x.onload = function() {
		console.log(x.responseText);
		if( isMobile.any() ){
		var konten="";
		var regexidlink = new RegExp('"playlistVideoRenderer":{"videoId":"([a-zA-Z0-9-_]*)","thumbnail',"gi");
		var regexjudul = new RegExp('"title":{"runs":\\[{"text":"(.*?)"}\\]},"index":{"runs":\\[{"text":"([0-9]*)"',"gi");
		var match=getMatches(x.responseText, regexidlink, 1);
		var match2=getMatches(x.responseText, regexjudul, 1);
		var link=[];
		var gambar=[]
		//var imgg=[]
		for(var i=0;i<match.length;i++){
		link[i]="https://youtube.com/watch?v="+match[i];
		gambar[i]="https://i.ytimg.com/vi/"+match[i]+"/mqdefault.jpg"
		//imgg[i] = document.createElement("IMG");
		//imgg[i].src=gambar[i];
		//imgg[i].crossOrigin = "Anonymous";

		konten+="<a href='"+link[i]+"' target='_blank'>";
		konten+="<img src='"+gambar[i]+"' alt='"+link[i]+"'/>"+"</a><br/>";
		konten+=match2[i]+"<br/>";
		var konten="<div class='col-md-3' style='margin-bottom:10px;'><div class='card'>";
				//konten+="<img src="+gambar[i]+" class='card-img-top' alt='...'>";
				konten+="<div class='card-body'>";
						konten+="<h6 class='card-title'><a target='_blank' href='"+link[i]+"'>"+match2[i]+"</a></h6>";
				konten+="</div>";
				konten+="<div class='card-footer'>";
						konten+="<a target='_blank' class='btn btn-primary btn-sm' href='"+link[i]+"'>Watch</a> ";
						konten+="<a target='_blank' class='btn btn-danger btn-sm' href='https://www.youtube.com/channel/UCZJLGfHVtah4VahnU7ZcRcA'>Subscribe</a>";
				konten+="</div>";
		konten+="</div></div>";
		$("#kontenyutub").append(konten);
		//$("#kontenyutub").append(imgg[i]);
		}
		}else{
		var regexjudul= new RegExp('"title":{"accessibility":{"accessibilityData":{"label":"'+"(.*?)"+'"}},"simpleText":"',"gi");
		var regexlink= new RegExp('"commandMetadata":{"webCommandMetadata":{"url":"\/watch'+"(.*?)"+'\\u002',"gi");
		var match=getMatches(x.responseText, regexjudul, 1);
		var match2=getMatches(x.responseText, regexlink, 1);
		for(var i=0;i<match.length;i++){
		var link=match2[i].replace(/\\/g, '');
		link=link.replace(/\?v=/g, '');
		regexlink2=new RegExp('{"videoId":"'+link+'","thumbnail":{"thumbnails":\\[{"url":"(.*?)\\?sqp=');
		var hasil=x.responseText.match(regexlink2)[1];
		var time=match[i].match(/([0-9]*)\s*([A-Za-z]*)\s*ago/g);
		var duration=match[i].match(/([0-9]*)\s*minutes/g);
		var viewer=match[i].match(/([0-9]*)\s*views/g);
		var judul=match[i].substring(0, match[i].indexOf('by'));
		var konten="<div class='col-md-3' style='margin-bottom:10px;'><div class='card'>";
				//konten+="<div id='gambar"+i+"'></div>"
				//konten+="<img src="+hasil+" class='card-img-top' alt='...' crossorigin='anonymous'>";
				konten+="<img src="+hasil+" class='card-img-top' alt='...'>";
				konten+="<div class='card-body'>";
						konten+="<h6 class='card-title'><a target='_blank' href='https://youtube.com/watch"+match2[i].replace(/\\/g, '')+"'>"+judul+"</a></h6>";
						konten+="<span class='badge badge-primary'>"+time+"</span> ";
						konten+="<span class='badge badge-info'>"+duration+"</span> ";
						konten+="<span class='badge badge-success'>"+viewer+"</span> ";
				konten+="</div>";
				konten+="<div class='card-footer'>";
						konten+="<a target='_blank' class='btn btn-primary btn-sm' href='https://youtube.com/watch"+match2[i].replace(/\\/g, '')+"'>Watch</a> ";
						konten+="<a target='_blank' class='btn btn-danger btn-sm' href='https://www.youtube.com/channel/UCZJLGfHVtah4VahnU7ZcRcA'>Subscribe</a>";
				konten+="</div>";
		konten+="</div></div>";
		$("#kontenyutub").append(konten);
		//$("#gambar"+i).append(loadExternalImage(hasil,'https://media0.giphy.com/media/3oEjI6SIIHBdRxXI40/giphy.gif'));
		}
		}
		};
		x.send();
		});
		</script>
		<script>
		function getMatches(string, regex, index) {
		index || (index = 1);
		var matches = [];
		var match;
		while (match = regex.exec(string)) {
		matches.push(match[index]);
		}
		return matches;
		}
		$(document).ready(function(e) {
		var myUrl = 'https://github.com/sabrisangjaya?tab=repositories';
		var xgit = new XMLHttpRequest();
		xgit.open('GET', 'https://cors-anywhere.herokuapp.com/'+myUrl);
		xgit.setRequestHeader('X-Requested-With', 'XMLHttpRequest');
		xgit.setRequestHeader("Content-Type", "text/xml");
		xgit.onload = function() {
		console.log(xgit.responseText);
		var elslink=getMatches(xgit.responseText, /href="([a-zA-Z0-9/.-]*)/g, 1);
		var kontengit="";
		var kontenlink="";
		kontengit+="<div class='list-group'>";
				for (var i = 0; i < elslink.length; i++) {
				if((!elslink[i].endsWith("/network"))){
				elslink[i]="https://github.com"+elslink[i];
				}
				if(elslink[i]=="https://github.comhttps"
				||elslink[i]=="/marketplace"
				||elslink[i].endsWith("https")
				||elslink[i]=="https://github.com/manifest.json"
				||elslink[i]=="https://github.com/marketplace"
				||elslink[i]=="https://github.com/explore"
				||elslink[i]=="https://github.com/login"
				){
				elslink.splice(i, 1);
				}
				}
				if( isMobile.any() ){
				elslink.splice(0, 15);
				}
				for (var i = 0; i < elslink.length; i++) {
				kontenlink+=elslink[i]+"/["+i+"]<br/>";
				kontengit+="<a href='"+elslink[i]+"' target='_blank' class='list-group-item list-group-item-action'>"+elslink[i]+"</a><br/>";
				}
		kontengit+="</div>";
		$("#kontengit").append(kontengit);
		};
		xgit.send();
		});
		</script>
	</head>
	<body>
		<button  class="btn btn-primary" onclick="renderFunc()" style="position:fixed;top:10px;right:10px;z-index: 99999">Download CV</button>
		<script>
		function renderFunc() {
                        html2canvas(document.querySelector("body"),{useCORS: true}).then(function(
                            canvas){
                                
                                console.log(canvas);
                                saveAs(canvas.toDataURL(), 'file-name.png');
                               
                            }
                        )
                    };

		function saveAs(uri, filename) {
		var link = document.createElement('a');
		
		if (typeof link.download === 'string') {
		
		link.href = uri;
		link.download = filename;
		
		//Firefox requires the link to be in the body
		document.body.appendChild(link);
		
		//simulate click
		link.click();
		
		//remove the link when done
		document.body.removeChild(link);
		
		} else {
		
		window.open(uri);
		
		}
		}
		</script>
		<br/><br/><br/>
		<div class="container" id="main">
			<div class="row">
				<div class="col-md-4 col-sm-12" style="margin-bottom:10px;">
					<div class="card">
						<div class="card-body">
							<img src="img/profil.jpg" class="img-thumbnail" alt="...">
						</div>
					</div>
				</div>
				<div class="col-md-8 col-sm-12" style="margin-bottom:10px;">
					<div class="card">
						<div class="card-body">
							<div style="text-align: left"><h3 > Sabri Sangjaya
								<a style="float:right;margin:0 5px;" href="https://www.youtube.com/channel/UCZJLGfHVtah4VahnU7ZcRcA" target="_blank">
									<span class="fab fa-youtube"></span></a>
									&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
									<a style="float:right;margin:0 5px;" href="https://www.github.com/sabrisangjaya" target="_blank">
										<span class="fab fa-github"></span></a>
										</h3>
									</div>
									<hr/>
									<p>Jadi begini ini adalah project WebCV saya menggunakan github page, Github tidak support php dan serverside scripting lainnya padahal ingin melakukan cUrl ke youtube dan github, ya sudah pakai javascript saja. youtubenya sudah bisa githubnya belum, sabar ya  </p>
								</div>
							</div>
						</div>
					</div>
					<div class="row">
						<div class="col-md-12 col-sm-12" style="margin-bottom:10px;">
							<div class="card">
								<div class="card-body">
									<h3>Portfolio</h3>
									<hr>
									<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Porro veniam, asperiores accusantium reprehenderit et repellat iure tenetur quam sit debitis, assumenda, dolores fugiat rem ullam delectus ipsam quae perferendis quo.</p>
									<div class="row">
										<div class="col-md-3 col-sm-6"><img src="https://via.placeholder.com/400x400.png?text=hohoho" class="img-thumbnail" alt="..."></div>
										<div class="col-md-3 col-sm-6"><img src="https://via.placeholder.com/400x400.png?text=hohoho" class="img-thumbnail" alt="..."></div>
										<div class="col-md-3 col-sm-6"><img src="https://via.placeholder.com/400x400.png?text=hohoho" class="img-thumbnail" alt="..."></div>
										<div class="col-md-3 col-sm-6"><img src="https://via.placeholder.com/400x400.png?text=hohoho" class="img-thumbnail" alt="..."></div>
									</div>
								</div>
							</div>
						</div>
					</div>
					<div class="row">
						<div class="col-md-12">
							<div class="row">
								<div class="col-md-6">
									<div class="card">
										<div class="card-body">
											<h4>Skills</h4>
											<hr>
											<h6>Web Design</h6>
											<div class="progress">
												<div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100" style="width: 75%"></div>
											</div><br/>
											<h6>Graphic Design</h6>
											<div class="progress">
												<div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100" style="width: 75%"></div>
											</div><br/>
											<h6>Programming</h6>
											<div class="progress">
												<div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100" style="width: 75%"></div>
											</div><br/>
											<h6>Creativity</h6>
											<div class="progress">
												<div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100" style="width: 75%"></div>
											</div><br/>
										</div>
									</div>
								</div>
								<div class="col-md-6">
									<div class="card">
										<div class="card-body">
											<h3>Experience</h3>
											<hr>
											<div class="list-group">
												<a href="#" class="list-group-item list-group-item-action flex-column align-items-start">
													<div class="d-flex w-100 justify-content-between">
														<h5 class="mb-1">Student Department Association</h5>
														<small>2017-2019</small>
													</div>
													<p class="mb-1">
														As Chief Division Product and Service in Workshop Elektro (Division of Education and Reasoning)  Student Department Association of Electro
													</p>
													<small>Sebagai Ketua Divisi Produk dan Jasa Workshop Elektro Bidang Penalaran dan Keilmuan Himpunan Mahasiswa Jurusan Teknik Elektro</small>
												</a>
												<a href="#" class="list-group-item list-group-item-action flex-column align-items-start">
													<div class="d-flex w-100 justify-content-between">
														<h5 class="mb-1">LTDC 2017-2018</h5>
														<small class="text-muted">2017-2018</small>
													</div>
													<p class="mb-1">Line Tracer Design and Contest (LTDC) is a prestigious annual event from Workshop Elektro. I participated as a front-end maker and back-end timer application of match</p>
													<small class="text-muted">Line Tracer Design and Contest(LTDC) adalah Event tahunan bergengsi dari workshop elektro. saya berperan sebagai pembuat front-end dan back-end aplikasi timer pertandingan</small>
												</a>
												<a href="#" class="list-group-item list-group-item-action flex-column align-items-start">
													<div class="d-flex w-100 justify-content-between">
														<h5 class="mb-1">ICOVET 2018</h5>
														<small class="text-muted">2018</small>
													</div>
													<p class="mb-1">International Conference on Vocational Education and Training (ICOVET) is annual event from Faculty of Engineering Universitas Negeri Malang. I participated as a Graphic Designer</p>
													<small class="text-muted">ICOVET adalah event tahunan dari Fakultas Teknik Universitas Negeri Malang. Saya berperan sebagai Desainer Grafis</small>
												</a>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
					<br/>
				</div>
				<div class="container">
					<div class="row">
						<div class="col-md-12" style="margin-bottom:10px;">
							<div class="card">
								<div class="card-body" id="konten">
									<h3>Youtube</h3>
									<hr>
									<p>Youtube dikenal sebagai medium untuk menuangkan ide-ide mainstream, kegelisahan sosial, dan perspektif sarkas. Saya membuat channel sebagai rasa perlawanan akan konten-konten pada umumnya. diharapkan dapat mempengaruhi kreator-kreator lainnya</p>
									<div class="row" id="kontenyutub">
									</div>
								</div>
							</div>
						</div>
						<div class="col-md-6">
							<div class="card">
								<div class="card-body" id="kontengit">
									<h3>Github</h3>
									<hr/>
								</div>
							</div>
						</div>
					</div>
				</div>
			</body>
		</html>